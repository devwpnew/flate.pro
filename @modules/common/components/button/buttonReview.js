import { useState, useEffect } from "react";
import { motion, AnimatePresence } from "framer-motion";

import Image from "next/image";

import ReviewModal from "../modals/review/reviewModal";

import button from "public/review/btn.jpg";

import getLayout from "helpers/getLayout";
import motionParams from "helpers/static/animation/motionParams";
import { useRouter } from "next/router";

export default function ButtonReview() {
  const { userWindowWidth, MOBILE } = getLayout();
  const router = useRouter();

  const [isOpenModal, openModal] = useState(false);
  const [isShow, setIsOnShow] = useState(false);

  useEffect(() => {
    window.addEventListener("scroll", () => {
      // console.log(window.scrollY);
      if (window.scrollY < 100) {
        setIsOnShow(false);
      } else {
        setIsOnShow(true);
      }
    });
  }, []);

  return (
    <>
      <div
        style={{
          zIndex: "20",
          position: "fixed",
          cursor: "pointer",
          textAlign: "right",
          left: "0px",
          top: "30%",
          transform: "translateY(-30%)",
        }}
      >
        <AnimatePresence>
          {isShow && (
            <motion.button
              {...motionParams.fadeParams}
              onClick={() => openModal(true)}
              className="relative"
            >
              <Image
                src={button.src}
                width={button.width}
                height={button.height}
                priority={100}
              />
              {/* <div
              className={`bg-greyA0 hover:bg-blue transition-all h-[37px] w-[162px]`}
              style={{
                left: 0,
              }}
            >
              <Button>
                <div className="flex flex-row items-center gap-2.5 justify-center w-full">
                  <Icon />
                  <div
                    style={{
                      fontSize: "14px",
                      borderRadius: "1px",
                      borderLeft: "1px solid rgba(255, 255, 255, 0.3)",
                      paddingLeft: "10px",
                    }}
                  >
                    Отзыв о сайте
                  </div>
                </div>
              </Button>
            </div> */}
            </motion.button>
          )}
        </AnimatePresence>
        <ReviewModal isOpen={isOpenModal} onClose={() => openModal(false)} />
      </div>
    </>
  );
}

// export function Icon() {
//   return (
//     <svg
//       width="18"
//       height="17"
//       viewBox="0 0 19 20"
//       fill="none"
//       xmlns="http://www.w3.org/2000/svg"
//     >
//       <path
//         d="M16.1453 10.2977L16.7571 9.86387L16.1453 10.2977ZM16.1116 10.25L15.497 10.6799L16.1116 10.25ZM15.2961 7.68672L16.0461 7.68195L15.2961 7.68672ZM16.6454 14.1437L16.9257 13.448L16.6454 14.1437ZM17.8115 12.6474L17.1997 13.0812L17.8115 12.6474ZM12.0855 1.1818L12.2979 0.46252L12.0855 1.1818ZM15.1155 4.23383L15.8356 4.02421L15.1155 4.23383ZM1.48693 16.543L2.15618 16.2044L1.48693 16.543ZM3.43929 18.5095L3.78175 17.8423L3.43929 18.5095ZM1.48693 3.45704L2.15618 3.79558L1.48693 3.45704ZM3.43929 1.49047L3.78175 2.15772L3.43929 1.49047ZM0.25 8.2L0.25 11.8L1.75 11.8L1.75 8.2L0.25 8.2ZM8.14799 19.75L11.926 19.75L11.926 18.25L8.14799 18.25L8.14799 19.75ZM9.20609 0.25L8.14799 0.25L8.14799 1.75L9.20609 1.75L9.20609 0.25ZM16.046 15.6055L16.046 15.0639L14.546 15.0639L14.546 15.6055L16.046 15.6055ZM18.4233 12.2135L16.7571 9.86387L15.5335 10.7315L17.1997 13.0812L18.4233 12.2135ZM16.046 7.62814L16.046 7.1342L14.546 7.1342L14.546 7.62814L16.046 7.62814ZM16.7571 9.86387C16.7396 9.83914 16.7327 9.82942 16.7261 9.82006L15.497 10.6799C15.507 10.6941 15.5171 10.7083 15.5335 10.7315L16.7571 9.86387ZM14.546 7.62814C14.546 7.65668 14.546 7.67415 14.5461 7.69149L16.0461 7.68195C16.046 7.67047 16.046 7.65849 16.046 7.62814L14.546 7.62814ZM16.7261 9.82006C16.2885 9.19447 16.0509 8.44838 16.0461 7.68195L14.5461 7.69149C14.5529 8.76149 14.8845 9.80428 15.497 10.6799L16.7261 9.82006ZM16.046 15.0639C16.046 14.8859 16.2193 14.7806 16.3651 14.8393L16.9257 13.448C15.7788 12.9859 14.546 13.8396 14.546 15.0639L16.046 15.0639ZM16.3651 14.8393C17.9933 15.4954 19.4142 13.6109 18.4233 12.2135L17.1997 13.0812C17.244 13.1437 17.2518 13.1934 17.2497 13.2319C17.2473 13.2767 17.2294 13.3281 17.1932 13.3744C17.1571 13.4208 17.113 13.449 17.0736 13.461C17.0407 13.4711 16.9943 13.4757 16.9257 13.448L16.3651 14.8393ZM9.20609 1.75C10.7684 1.75 11.3877 1.75774 11.8731 1.90109L12.2979 0.46252C11.5522 0.24226 10.6622 0.25 9.20609 0.25L9.20609 1.75ZM16.046 7.1342C16.046 5.66641 16.0535 4.77281 15.8356 4.02421L14.3954 4.44346C14.5384 4.93492 14.546 5.56155 14.546 7.1342L16.046 7.1342ZM11.8731 1.90109C13.0863 2.25943 14.0381 3.21618 14.3954 4.44346L15.8356 4.02421C15.3366 2.31009 14.0048 0.966642 12.2979 0.46252L11.8731 1.90109ZM11.926 19.75C14.2065 19.75 16.046 17.8893 16.046 15.6055L14.546 15.6055C14.546 17.0712 13.3679 18.25 11.926 18.25L11.926 19.75ZM0.25 11.8C0.25 13.0478 0.249425 14.0285 0.313321 14.8162C0.377914 15.6126 0.512063 16.2773 0.817679 16.8815L2.15618 16.2044C1.97486 15.846 1.86555 15.3994 1.80841 14.695C1.75057 13.9819 1.75 13.0724 1.75 11.8L0.25 11.8ZM8.14799 18.25C6.88451 18.25 5.98233 18.2494 5.27526 18.1912C4.57711 18.1338 4.13574 18.024 3.78175 17.8423L3.09684 19.1768C3.69849 19.4856 4.36046 19.621 5.15223 19.6862C5.93509 19.7506 6.90944 19.75 8.14799 19.75L8.14799 18.25ZM0.817679 16.8815C1.31715 17.8689 2.11467 18.6727 3.09684 19.1768L3.78175 17.8423C3.08269 17.4835 2.51333 16.9105 2.15618 16.2044L0.817679 16.8815ZM1.75 8.2C1.75 6.9276 1.75057 6.01807 1.80841 5.30505C1.86555 4.60061 1.97486 4.15401 2.15618 3.79558L0.817679 3.11851C0.512062 3.72268 0.377914 4.38744 0.313321 5.18377C0.249424 5.97151 0.249999 6.95217 0.25 8.2L1.75 8.2ZM8.14799 0.25C6.90944 0.25 5.93509 0.249409 5.15223 0.313837C4.36046 0.378998 3.69849 0.514431 3.09684 0.823219L3.78175 2.15772C4.13574 1.97604 4.57711 1.86624 5.27526 1.80878C5.98233 1.75059 6.88451 1.75 8.14799 1.75L8.14799 0.25ZM2.15618 3.79558C2.51333 3.08953 3.08269 2.5165 3.78175 2.15772L3.09684 0.823219C2.11467 1.3273 1.31715 2.1311 0.817679 3.11851L2.15618 3.79558Z"
//         fill="white"
//       />
//     </svg>
//   );
// }
